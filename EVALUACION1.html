<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
        <link href="style.css" rel="stylesheet" />
        
        <script crs="https://cdn.jsdelivr.net/npm/chart.js@3.5.1/dist/chart.min.js"></script>
        
        <title>Maltrato animal en Chile</title>
    </head>
    <body>
        <nav class="fixed-top container">
            <div class="row pt-2">
                <div class="col">
                    <h3 class="fs-6 d-flex justify-content-between align-items-center"><span>Evaluación</span> <span>Nº1</span></h3>
                </div>
            </div>
        </nav>
        <header class="container-fluid" id="perrocallejero.jpg">
            <div class="row h-100">
                <div class="div text-center my-auto">
                    <h1>Maltrato animal en Chile</h1>
                    <h2>Estimado de casos en los últimos 5 años</h2>
                </div>
            </div>
        </header>
        <section class="container py-3">
            <div class="row py-4">
                <div class="col-sm-10 col-md-8 mx-auto">
                    <p>En Chile se estima que más de 343.000 perros y gatos no tienen dueños y deambulan por las calles y campos del país en busca de alimento, 
                        algo que ha disminuido drásticamente a raíz de las cuarentenas obligatorias de la pandemia de COVID-19 y que condena a estos animales al hambre
                        y a un segundo abandono.</p>

                    <canvas id="misBarritas" width="100" height="70" class="my-5"></canvas>
                    <canvas id="chart" width="100" height="80" class="my-5"></canvas>

                    
                    <p><strong>Estos hechos representan una cruda realidad que ha comenzado a develarse especialmente tras la aprobación de la Ley Cholito y debido a que cada vez las comunidades se atreven más a acusar esto episodios ante la justicia.</p>
                    
                    <!--En el siguiente SVG me aprovecho del "clip path", fíjense en los dos últimos dígitos del viewBox y los valores en width y height de la imagen que se recorta con el path: Deben ser los mismos. Pero la imagen originalmente vinculada tendría que ser más grande por asuntos de resolución -->

                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="my-5">
                        
                        <image width="100" height="100" clip-path="url(#recorte)" xlink:href="https://as01.epimg.net/mexico/imagenes/2021/07/27/actualidad/1627342827_044063_1627342897_noticia_normal.jpg" >
                    </svg>

                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed congue dolor id felis placerat, at laoreet massa accumsan. Quisque tempor lacinia vulputate. Vestibulum felis est, semper sit amet lorem rutrum, luctus dapibus ipsum. Sed id condimentum quam. Sed non arcu risus. Quisque nec euismod dolor. Proin egestas mauris consectetur luctus laoreet. Sed ut massa et arcu pulvinar pellentesque eget vel odio. Aenean ultricies risus dolor odio, eget pretium ipsum placerat sit amet.</p>
                    
                    <p class="fw-bold">Lo que estaría faltando en esta plantilla es un "efecto de interacción", que se pueden implementar con una de las siguientes bibliotecas: <a href="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js">p5.js</a>, <a href="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js">jQuery</a> o <a href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js">la de Bootstrap</a>.
                    </p>

                    <p>Puede agregar más contenidos para la exposición clara de su tema; no hay puntos en la pauta que pongan un techo, sólo se exige el piso mínimo de contenidos ya referidos más arriba y en la misma <a href="https://github.com/profesorfaco/interaccion/tree/main/sesion_08#readme">pauta de evaluación</a>.</p>

                </div>
            </div>
        </section>
        <footer class="container border-top">
            <div class="row pt-3">
                <div class="col">
                    <!--recuerden cambiar el "#" por los vínculos correspondientes-->
                    <p class="d-flex justify-content-between align-items-center small"><a href="#">Nombre Apellido</a> <a href="#">AUD5V0010</a></p>
                </div>
            </div>
        </footer>
        <!--con el siguiente script escondo el nav fijo según avance del scroll -->
        <script>
            var altura = document.getElementById("perrocallejero.jpg").offsetHeight;
            window.addEventListener("scroll", (event) => {
                let scroll = this.scrollY;
                console.log(scroll);
                var element = document.getElementsByTagName("nav")[0];
                if (scroll > altura) {
                    element.classList.add("d-none");
                } else {
                    element.classList.remove("d-none");
                }
            });
        </script>
        <!--con el siguiente script voy a buscar la biblioteca Chart.js-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.5.1/chart.min.js"
            integrity="sha512-Wt1bJGtlnMtGP0dqNFH1xlkLBNpEodaiQ8ZN5JLA5wpc1sUlk/O5uuOMNgvzddzkpvZ9GLyYNa8w2s7rqiTk5Q=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        ></script>
        <!--con el siguiente script voy a buscar datos a un JSON y con ellos construyo un gráfico de barras-->
        <script>
            fetch("https://myjson.dit.upm.es/api/bins/1wn3")
                .then((response) => response.json())
                .then((poblacion) => {
                    console.log(poblacion);
                    var lasRegiones = [],
                        losHombres = [],
                        lasMujeres = [];

                    poblacion.forEach((d) => {
                        lasRegiones.push(d.region);
                        losHombres.push(d.hombres);
                        lasMujeres.push(d.mujeres);
                    });

                    new Chart(document.getElementById("misBarritas").getContext("2d"), {
                        type: "bar",
                        data: {
                            labels: lasRegiones,
                            datasets: [
                                {
                                    data: losHombres,
                                    backgroundColor: "#f1a340",
                                    label: "Hombres",
                                },
                                {
                                    data: lasMujeres,
                                    backgroundColor: "#645294",
                                    label: "Mujeres",
                                },
                            ],
                        },
                        options: {
                            scales: {
                                y: {
                                    ticks: {
                                        callback: function (numero) {
                                            return numero.toLocaleString("es-CL");
                                        },
                                    },
                                },
                            },
                            plugins: {
                                title: {
                                    display: true,
                                    text: "POBLACIÓN: POR SEXO Y REGIONES, CENSO 2017",
                                },
                            },
                        },
                    });
                })
                .catch((error) => console.log("¡PLW!", error));
        </script>
    </body>
</html>
